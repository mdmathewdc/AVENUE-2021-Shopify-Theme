{% if section.settings.include_promo %}
<section data-section-id="{{ section.id }}" 
         data-section-type="header_announcement">
  <div class="header banner header-announcement{% if section.settings.include_bar_border %} include-border{% endif %} announcement_color_scheme {{ section.settings.text_alignment }}">  
    <div class="container full clearfix">
      <span>
        {% if section.settings.promo_link != blank %}
        <a href="{{ section.settings.promo_link }}" title="{% if section.settings.promo_text != blank %}{{ section.settings.promo_text | escape }}{% else %}{{ 'homepage.onboarding.no_title' | t }}{% endif %}">{% if section.settings.promo_text != blank %}{{ section.settings.promo_text }}{% else %}{{ 'homepage.onboarding.no_title' | t }}{% endif %}</a>
        {% else %}
        {% if section.settings.promo_text != blank %}{{ section.settings.promo_text }}{% else %}{{ 'homepage.onboarding.no_title' | t }}{% endif %}
        {% endif %}
      </span>
    </div>
  </div>  
</section>
{% endif %}

{% schema %}
  {
    "name": "Announcement",
    "settings": [
      {
        "type": "checkbox",
        "id": "include_promo",
        "label": "Show announcement bar",
        "default": false
      },
      {
        "type": "text", 
        "id": "promo_text",
        "label": "Text",
        "default": "Display an announcement, sale or event"
      },
      {
        "type": "select",
        "id": "text_alignment",
        "label": "Alignment",
        "default": "text-center",
        "options": [
          {
            "value": "text-left",
            "label": "Left"
          },
          {
            "value": "text-center",
            "label": "Center"
          },
          {
            "value": "text-right",
            "label": "Right"
          }
        ]
      },
      {
        "type": "url",
        "id": "promo_link",
        "label": "Link"
      },
      {
        "type": "checkbox",
        "id": "include_bar_border",
        "label": "Show border",
        "default": false
      }
    ]
  }
{% endschema %}